<div class="p-10 w-full bg-card shadow sm:w-full sm:mx-0">
	<div
		class="w-ful aic flex text-2xl md:text-2xl font-extrabold sm: truncate"
	>
		REGISTRATION FORM

		<button
			(click)="save()"
			class="fuse-mat-button-large rounded ml-auto"
			mat-flat-button
			[color]="'warn'"
			[disabled]="isProcessing"
		>
			<span *ngIf="!isProcessing" class="mr-2 flex aic">
				<mat-icon
					svgIcon="mat_solid:published_with_changes"
					class="m-0 mr-3"
				></mat-icon>
				<span class="m-auto"> Publish </span>
			</span>
			<mat-progress-spinner
				*ngIf="isProcessing"
				[diameter]="16"
				[mode]="'indeterminate'"
			></mat-progress-spinner>
		</button>
	</div>
	<div class="inline-flex items-end justify-between w-full mb-5">
		<mat-checkbox
			[(ngModel)]="data.isSectionEnabled"
			[color]="'warn'"
			class="text-secondary font-normal"
		>
			Enable Registration Form
		</mat-checkbox>
	</div>
	<div
		class="grid grid-cols-1 lg:grid-cols-4 gap-4 mt-5"
		*ngIf="data.isSectionEnabled"
		@expandCollapse
	>
		<mat-form-field class="w-full mb-2">
			<mat-label class="text-secondary font-normal"
				>Small Title</mat-label
			>
			<input
				[(ngModel)]="data.smallTitle"
				matInput
				placeholder="Weight lifting"
			/>
		</mat-form-field>

		<mat-form-field class="w-full mb-2">
			<mat-label class="text-secondary font-normal"
				>Large Title</mat-label
			>
			<input
				[(ngModel)]="data.largeTitle"
				matInput
				placeholder="COMPETITION"
			/>
		</mat-form-field>

		<mat-form-field class="w-full mb-2">
			<mat-label class="text-secondary font-normal"
				>Call to Action Title</mat-label
			>
			<input
				[(ngModel)]="data.callToActionTitle"
				matInput
				placeholder="Register Now!"
			/>
		</mat-form-field>
	</div>

	<div class="flex" *ngIf="data.isSectionEnabled" @expandCollapse>
		<button
			(click)="addField()"
			class="fuse-mat-button-large mt-6 rounded"
			mat-flat-button
			[color]="'accent'"
		>
			<mat-icon svgIcon="feather:plus" class="mr-3"></mat-icon>
			<span class="m-auto"> Add Field </span>
		</button>
	</div>

	<div
		class="grid grid-cols-1 lg:grid-cols-6 gap-6 mt-10"
		*ngIf="data.isSectionEnabled"
		@expandCollapse
	>
		<mat-form-field
			[@listAnimation]="data.prices"
			[color]="'rose'"
			class="w-full mb-2"
			*ngFor="let field of data.fields; let i = index"
		>
			<mat-label class="text-secondary font-normal flex aic"
				>Field Name
			</mat-label>

			<input
				[(ngModel)]="field.fieldName"
				matInput
				placeholder="Full name"
			/>
			<span
				(click)="removeField(i)"
				role="button"
				class="ml-auto text-warn"
			>
				<mat-icon
					svgIcon="feather:minus-circle"
					class="icon-size-7 text-warn"
				></mat-icon>
			</span>
		</mat-form-field>
	</div>
</div>
